# 后台操作

后台操作不等于 工作线程。

现有的后台操作：

Service（前台服务，后台服务）

线程（池）

WorkManager（Jetpark的一个组件）



# Service 和Thread 的联系和区别

答案：没有一分钱关系。

Service是服务“进程”，是一个进程！Service中的代码没有特别处理一般也是运行在主线程，如果在service的主线程中运行耗时任务，也会导致ANR。你可以把它理解为一个 没有Ui的进程。

Thread是线程，可以创建一个子线程去做耗时操作。

# 选择后台操作方式的考量

1. 此项工作是否可以延迟到预定的时间之内完成。

   比如：从网络获取数据，然后响应用户的点击。这个必须要等到数据返回之后，才能让用户点击，这种情况，就不能考虑后台操作。

   比如：上传埋点日志，我完全可以先把数据保存到本地数据库，然后等到手机闲置的时候，再统一上传，这个并不影响用户体验。

2. 此项工作是否需要长期保活存留于系统中。

   比如，图片解码，视频解码，这种操作必须在Activity处于活动状态时进行，这个就不能使用后台操作。

   比如，地图定位，音乐播放，及时app处于后台，也要保活与系统中，这个时候就需要用后台操作。

3. 此项工作是否为了响应系统某种机制而触发运行

   比如，退出飞行模式马上与服务器通信，这个时候就必须用后台操作启动应用与服务器通信。

   